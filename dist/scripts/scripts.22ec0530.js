"use strict";angular.module("jonivayrynenApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","jonivayrynenApp.directives"]).config(["$routeProvider",function(a){a.when("/cv",{templateUrl:"views/cv.html",controller:"CvCtrl"}).when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/:categoryname",{templateUrl:"views/category.html",controller:"CategoryCtrl"}).when("/:categoryname/:artworkname",{templateUrl:"views/artwork.html",controller:"ArtworkCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("jonivayrynenApp").controller("MainCtrl",["$scope","$http",function(a,b){b.get("artwork/artwork.json",{headers:{"Cache-Control":"no-cache"}}).success(function(b){a.artworks=b,a.allBuildingImages=[];var c="rakennelmat",d=b[c];for(var e in d)for(var f=d[e].images,g=0;g<f.length;g++)a.allBuildingImages.push(f[g]);console.log(a.allBuildingImages),a.allDrawingImages=[];var h="akuankkapiirustukset",i=b[h];for(var j in i)for(var k=i[j].images,l=0;l<k.length;l++)a.allDrawingImages.push(k[l]);console.log(a.allDrawingImages)})}]),angular.module("jonivayrynenApp").controller("CategoryCtrl",["$scope","$http","$routeParams",function(a,b,c){a.categoryname=c.categoryname,b.get("artwork/artwork.json",{headers:{"Cache-Control":"no-cache"}}).success(function(b){a.artworks=b,a.category=b[a.categoryname]}),a.getNameOfCategory=function(a){return"rakennelmat"===a?"Rakennelmat":"akuankkapiirustukset"===a?"Aku Ankka piirustukset":a}}]),angular.module("jonivayrynenApp").controller("ArtworkCtrl",["$scope","$http","$routeParams","$document",function(a,b,c,d){a.artworkname=c.artworkname,a.categoryname=c.categoryname,b.get("artwork/artwork.json").success(function(b){a.artworks=b,a.category=b[a.categoryname],a.artwork=b[a.categoryname][a.artworkname],a.allImages=b[a.categoryname][a.artworkname].images}),a.getNameOfCategory=function(a){return"rakennelmat"===a?"Rakennelmat":"akuankkapiirustukset"===a?"Aku Ankka piirustukset":a};var e=angular.element(d[0].body);a.imgData="",a.modalShown=!1,a.toggleModal=function(b){e.addClass("stop-scroll"),a.modalShown=!a.modalShown,a.imgData=b,a.allImages=a.artwork.images}}]),angular.module("jonivayrynenApp").controller("CvCtrl",["$scope","$http",function(a,b){b.get("artwork/artwork.json",{headers:{"Cache-Control":"no-cache"}}).success(function(b){a.artworks=b})}]),angular.module("jonivayrynenApp.directives",[]).directive("imageModal",["$document",function(a){return{restrict:"E",scope:{show:"=",imagedata:"=",allimages:"="},replace:!0,transclude:!0,link:function(b){b.hideModal=function(){var c=angular.element(a[0].body);c.removeClass("stop-scroll"),b.show=!1},b.nextImage=function(){var a=b.allimages.indexOf(b.imagedata),c=b.allimages.length;c-1>a?b.imagedata=b.allimages[a+1]:b.imagedata=b.allimages[0]},b.prevImage=function(){var a=b.allimages.indexOf(b.imagedata),c=b.allimages.length;0!==a?b.imagedata=b.allimages[a-1]:b.imagedata=b.allimages[c-1]}},template:'<div class="modal" ng-show="show">  <div class="modal-overlay" ng-click="hideModal()"></div>  <div class="modal-dialog">    <img class="modal-image" ng-src="{{imagedata.large}}">    <div class="modal-close" ng-click="hideModal()"></div>  </div>  <div class="modal-caption-bar">    <div class="modal-prev modal-move" ng-click="prevImage()">← Edellinen</div>    <div class="modal-next modal-move" ng-click="nextImage()">Seuraava →</div>    <div class="modal-caption">{{imagedata.caption}}</div>  </div></div></div>'}}]);